<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POLYNOMIAL STORM - Quiz</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Overlay para transiciones de oscurecimiento -->
    <div id="transition-overlay"></div>

    <div id="intro-overlay">
        <div id="intro-text">SI-IAP</div>
    </div>

    <!-- La funcionalidad de audio ha sido eliminada para evitar problemas de carga -->

    <canvas id="rain-canvas"></canvas>
    <canvas id="foreground-canvas"></canvas>

    <div id="storm-overlay"></div>

    <!-- Mensaje de Juego/Confirmaci√≥n. El script.js lo usa para el hover y el feedback. -->
    <div id="confirmation-message" class="hidden">
        <p>¬øEst√°s seguro que quieres jugar con esta dificultad?</p>
    </div>

    <!-- PANTALLA DE BIENVENIDA -->
    <div id="welcome-container">
        <header id="project-title">
            <h1>POLYNOMIAL STORM</h1>
            <h2>Interpolaci√≥n y Aproximaci√≥n Polinomial</h2>
        </header>

        <main id="quiz-container">
            <p id="introduction-text">Prep√°rate para la tormenta del c√°lculo num√©rico. Responde correctamente para dominar la Aproximaci√≥n Polinomial.</p>

            <button id="start-quiz-btn" class="realistic-button">
                ¬øJugamos?
            </button>
        </main>
    </div>

    <!-- PANTALLA DE SELECCI√ìN DE DIFICULTAD -->
    <section id="difficulty-screen" class="hidden">
        <div style="margin-bottom: 50px;">
             <p style="font-size: clamp(1.8rem, 6vw, 2.8rem); text-shadow: 0 0 10px #fff, 0 0 25px #fff;">¬°Elige tu dificultad!</p>
        </div>

        <div id="difficulty-buttons">
            <button id="btn-easy" class="difficulty-btn">F√ÅCIL-SABER</button>
            <button id="btn-medium" class="difficulty-btn">MEDIO-APRENDER</button>
            <button id="btn-hard" class="difficulty-btn">DIF√çCIL-LUCHAR</button>
            <button id="btn-very-hard" class="difficulty-btn">EXTREMO-VIVIR</button>
        </div>
    </section>

    <!-- PANTALLA DE INSTRUCCIONES (NUEVA) -->
    <section id="instructions-screen" class="hidden">
        <h1 class="instructions-title">¬°PREP√ÅRATE!</h1>
        <div class="instructions-grid">
            <!-- Instrucci√≥n 1: Movimiento -->
            <div class="instruction-item">
                <div class="instruction-symbol spacebar"></div>
                <p>Usa la <span class="key-name">barra espaciadora</span> para esquivar</p>
            </div>

            <!-- Instrucci√≥n 2: Aviso de Ataque -->
            <div class="instruction-item">
                <div class="instruction-symbol">‚ñ≥!</div>
                <p>El <span class="symbol-name">‚ñ≥!</span> indica <span class="highlight">cu√°ntos ataques</span> recibir√°s y <span class="highlight">cu√°ndo</span></p>
            </div>

            <!-- Instrucci√≥n 3: Da√±o -->
            <div class="instruction-item">
                 <div class="instruction-symbol">üíî</div>
                 <p>Recibir un impacto reduce tu vida</p>
            </div>
        </div>
        <div class="instructions-tip">
            <p><span class="highlight">¬°CUIDADO!</span> El enemigo es astuto y puede predecir tus movimientos.</p>
        </div>
        <button id="start-transmission-btn" class="realistic-button">INICIAR TRANSMISI√ìN</button>
    </section>

    <!-- PANTALLA DEL CUESTIONARIO (A√ëADIDA) -->
    <section id="quiz-game-screen" class="hidden">
        <div id="quiz-header">
            <h3 id="current-difficulty">DIFICULTAD: INICIANDO</h3>
            <div id="timer-container">
                <p id="timer">0:00</p>
            </div>
            <div id="health-bar">
                <!-- Los bloques de vida se inyectar√°n con JavaScript -->
            </div>
        </div>

        <div id="question-container">
            <p id="question-text">Pregunta de Ejemplo</p>
            <div id="answer-options">
                <button class="answer-btn" data-index="0">Opci√≥n A</button>
                <button class="answer-btn" data-index="1">Opci√≥n B</button>
                <button class="answer-btn" data-index="2">Opci√≥n C</button>
                <button class="answer-btn" data-index="3">Opci√≥n D</button>
            </div>
        </div>

        <!-- Elementos del Minijuego de Esquivar -->
        <div id="dodge-minigame-container">
            <div id="player-character"></div>
            <div id="attacker-character">
                <div class="eye"></div>
                <div class="eye"></div>
            </div>
            <div id="projectile"></div>
            <div id="warning-sign" class="hidden"><span id="bullet-count"></span></div>
        </div>

        <!-- Botones de Prueba para el Prototipo -->
        <div id="minigame-test-buttons">
            <button id="test-3-shots">Probar 3 Disparos</button>
            <button id="test-4-shots">Probar 4 Disparos</button>
            <button id="test-8-shots">Probar 8 Disparos</button>
        </div>
    </section>

    <!-- PANTALLA DE FIN DE JUEGO (A√ëADIDA) -->
    <section id="game-over-screen" class="hidden">
        <h1 id="game-over-title">GAME OVER</h1>
        <p id="game-over-text">La tormenta te ha superado. Vuelve a intentarlo.</p>
        <button id="restart-btn" class="realistic-button">REINICIAR</button>
    </section>

    <!-- Elementos de Audio -->
    <audio id="audio-intro-start" src="assets/sounds/intro-start.mp3" preload="auto"></audio>
    <audio id="audio-correct" src="assets/sounds/correct-answer.mp3" preload="auto"></audio>
    <audio id="audio-incorrect" src="assets/sounds/incorrect-answer.mp3" preload="auto"></audio>
    <audio id="audio-button-click" src="assets/sounds/button-click.wav" preload="auto"></audio>
    <audio id="audio-instructions" src="assets/sounds/instructions.mp3" preload="auto" loop></audio>
    <audio id="audio-music-easy" src="assets/sounds/difficulty-easy.mp3" preload="auto" loop></audio>
    <audio id="audio-music-medium" src="assets/sounds/difficulty-medium.mp3" preload="auto" loop></audio>
    <audio id="audio-music-hard" src="assets/sounds/difficulty-hard.mp3" preload="auto" loop></audio>
    <audio id="audio-music-extreme" src="assets/sounds/difficulty-extreme.mp3" preload="auto" loop></audio>

    <script src="script.js"></script>
</body>
</html>